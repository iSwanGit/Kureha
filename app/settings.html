<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Settings</title>
		<script>
		var win = nw.Window.get();
		// nw.Window.get().setResizable(false);
		// nw.Window.get().setMaximumSize(win.width, win.height);
		// nw.Window.get().setMinimumSize(win.width, win.height);
		// nw.Window.get().resizeTo(450, 450);
		
		window.onclose = e =>
		{
			// save configuration
			App.saveConfig();
		}

 	 	window.onload = e =>
 	 	{
			var arr = document.getElementsByTagName('input');
			for (var i in arr)
			{
				var item = arr[i];
				if(!config[item.id])
					continue;
				switch (item.type)
				{
					case 'checkbox':
						item.checked = config[item.id];
						break;
					case 'number':
						item.value = config[item.id];
						break;
				}
			}
 	 	}
 	 	function chk_config(e)
 	 	{
			switch (e.type)
			{
				case 'checkbox':
					config[e.id] = e.checked;
					break;
				case 'number':
					config[e.id] = e.value;
					break;
			}

			// main stream
			if(e.id == 'runStream')
				if(e.checked)
				{
					App.runMainStream();
					App.alertStream(true);
				}
				else
				{
					App.stopMainStream();
					App.alertStream(false);
				}

			// save configuration
			App.saveConfig();
 	 	}
 	 	</script>
 		<link href="css/settings.css" rel="stylesheet">
	</head>
	<body>
		<div id="wrapper">
			<header class="top">
				<span>설정</span>
			</header>
			<main>
				<section>
					<header><span>타임라인</span></header>
					<div>
						<div class="multicolumn">
							<div>
								<div class="settings-item">
									<b>일반</b>
								</div>
								<div class="settings-item">
									<label>
										<input id="runStream" type="checkbox" onclick="chk_config(this)"><label for="runStream"><div></div></label>
										타임라인 스트리밍
									</label>
								</div>
								<div class="settings-item">
									<label>
										<input id="hideMyRetweets" type="checkbox" onclick="chk_config(this)"><label for="hideMyRetweets"><div></div></label>
										자신의 리트윗 숨기기
									</label>
								</div>
							</div>
							<div>
								<div class="settings-item">
									<b>매직 스크롤</b>
								</div>
								<div class="settings-item">
									<label>
										<input id="magicScroll" type="checkbox" onclick="chk_config(this)"><label for="magicScroll"><div></div></label>
										매직 스크롤 켜기
									</label>
								</div>
								<div class="settings-item">
									<label>
										감도 (밀리초):
										<input id="magicScrollSensitivity" type="number" min="250" max="1000" value="250" onchange="chk_config(this)">
									</label>
								</div>
							</div>
						</div>	
					<!--<div class="settings-item">
							<b>기타</b>
						</div>
										
						<div class="settings-item">
							<label>
								<input id="placeHolder" type="checkbox" onclick="chk_config(this)"><label for="placeHolder"><div></div></label>
								PLACEHOLDER
							</label>
						</div>-->
					</div>
				</section>
				<!--<section>
					<header><span>배경</span></header>
					<div>
						<div class="settings-item">
							<b>배경 유형</b>
						</div>
						<div class="settings-item">
							<input id="bgTypeSolid" class="expander" type="radio" name="bgType" value="solid" checked><label for="bgTypeSolid"></label>
							<label for="bgTypeSolid">단색</label>
							<div class="expander-item">
								<table cellspacing="0">
									<tr>
										<th>색상</th>
										<td><input id="bgColor" type="color"></td>
									</tr>
								</table>
							</div>
						</div>
						<div class="settings-item">
							<input id="bgTypeImage" class="expander" type="radio" name="bgType" value="image"><label for="bgTypeImage"></label>
							<label for="bgTypeImage">이미지</label>
							<div class="expander-item">
								<table cellspacing="0">
									<tr>
										<th>이미지 선택</th>
										<td>
										</td>
									</tr>
									<tr>
										<th>위치</th>
										<td class="flex">
											<label>
												<input type="radio" name="bgLocation" value="default">
												기본값
											</label>
											<label>
												<input type="radio" name="bgLocation" value="center">
												가운데
											</label>
										</td>
									</tr>
									<tr>
										<th>크기</th>
										<td class="flex">
											<label>
												<input type="radio" name="bgSize" value="default">
												기본값
											</label>
											<label>
												<input type="radio" name="bgSize" value="contain">
												창 크기에 맞춤
											</label>
											<label>
												<input type="radio" name="bgSize" value="cover">
												채우기
											</label>
										</td>
									</tr>
									<tr>
										<th>반복</th>
										<td class="flex">
											<label>
												<input type="radio" name="bgRepeat" value="no-repeat">
												없음
											</label>
											<label>
												<input type="radio" name="bgRepeat" value="repeat-x">
												가로 반복
											</label>
											<label>
												<input type="radio" name="bgRepeat" value="repeat-y">
												세로 반복
											</label>
											<label>
												<input type="radio" name="bgRepeat" value="repeat">
												반복
											</label>
										</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</section>-->
				<section>
					<header><span>데스크톱 알림</span></header>
					<div class="multicolumn">
						<div>
							<div class="settings-item">
								<b>홈 타임라인</b>
							</div>
							<div class="settings-item">
								<label>
									<input id="enableHomeTLNoti" type="checkbox" onclick="chk_config(this)"><label for="enableHomeTLNoti"><div></div></label>
									알림 표시
								</label>
							</div>
							<div class="settings-item">
								<label>
									<input id="enableHomeTLSound" type="checkbox" onclick="chk_config(this)"><label for="enableHomeTLSound"><div></div></label>
									알림 소리 재생
								</label>
							</div>
						</div>
						<div>
							<div class="settings-item">
								<b>멘션</b>
							</div>
							<div class="settings-item">
								<label>
									<input id="enableMentionTLNoti" type="checkbox" onclick="chk_config(this)"><label for="enableMentionTLNoti"><div></div></label>
									알림 표시
								</label>
							</div>
							<div class="settings-item">
								<label>
									<input id="enableMentionTLSound" type="checkbox" onclick="chk_config(this)"><label for="enableMentionTLSound"><div></div></label>
									알림 소리 재생
								</label>
							</div>
						</div>
					</div>
				</section>
				<section>
					<header><span>개발자 옵션</span></header>
					<div>
						<div class="settings-item">
							<label>
								<input id="debug" type="checkbox" onclick="chk_config(this)"><label for="debug"><div></div></label>
								콘솔에 디버그 정보 출력
							</label>
						</div>
					</div>
				</section>
			</main>
		</div>
	</body>
</html>